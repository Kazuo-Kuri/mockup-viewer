<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Bag Mockup</title>
    <link rel="stylesheet" href="/styles.css" />
  </head>
  <body>
    <!-- 上部ツールバー（常に最上段） -->
    <header class="toolbar">
      <div class="toolbar-row">
        <label class="btn file">
          データアップロード
          <input id="file-upload" type="file" accept=".png,.jpg,.jpeg,.webp,.svg,.pdf,.ai" />
        </label>

        <button id="btn-export" class="btn">PNG書き出し</button>
        <button id="btn-cafe" class="btn btn-primary">カフェで見る</button>
        <button id="btn-refresh-previews" class="btn">右の背景プレビュー更新</button>
      </div>
    </header>

    <!-- 左右2分割 -->
    <main class="split">
      <section class="left3d">
        <!-- ★ 固定canvasは置かない。ReactがここにThreeのcanvasを生成します -->
        <div id="root" style="width:100%; height:100%;"></div>
      </section>

      <aside class="right2d">
        <!-- 初期は白。生成時に置き換え -->
        <div class="thumb"><img id="prev-cafe"    alt="カフェ背景プレビュー" /></div>
        <div class="thumb"><img id="prev-shelf"   alt="棚背景プレビュー" /></div>
        <div class="thumb"><img id="prev-counter" alt="レジ横背景プレビュー" /></div>
        <div class="thumb"><img id="prev-free"    alt="自由枠（白 or 透過）" /></div>
      </aside>
    </main>

    <!-- 3Dに干渉しない右パネル/ツールバー配線 -->
    <script type="module" src="/src/scene/scene-ui.ts"></script>

    <!-- ★ React エントリ（あなたの構成に合わせて .tsx / .jsx を指定） -->
    <script type="module" src="/src/main.tsx"></script>
    <!-- 例: Vite + React の標準構成なら main.tsx に
         createRoot(document.getElementById('root')).render(<Scene />)
         のように書かれているはずです -->
  </body>
</html>
